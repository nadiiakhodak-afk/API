---
title: Errors & Troubleshooting
description: Standard response formats, codes, and EPC mappings
icon: ShieldAlert
---

Standardise how API errors are structured, surfaced, and handled by integrators while maintaining full data privacy and compliance with security guidelines.

## Unified Error Response Format
Used for client-side validation, authorisation, or permission issues (4xx) and internal or provider errors (5xx).
Structure is aligned with RFC 7807 – Problem Details for HTTP APIs.

>Note:
>5xx responses include only a generic message.
>Internal identifiers, stack traces, or provider details are never exposed.

```json
{
  "error_name": "Validation Error",
  "error_description": "Invalid IBAN format.",
  "metadata": {
    "trace_id": "abc123",
    "details": "Field 'beneficiary.iban' must match SEPA pattern"
  }
}
```
### Field Description
| Field                 | Type   | Description                                                                                          |
|-----------------------|--------|------------------------------------------------------------------------------------------------------|
| `error_name`          | string | Human-readable, capitalised error name.                                                              |
| `error_description`   | string | Short, human-readable summary of the problem.                                                        |
| `metadata (optional)` | object | Contextual data for debugging (non-sensitive). May include trace_id, details, or other non-PII info. |

### Error Categories
| Category | Range     | Description                                                                              | Examples                                   |
|----------|-----------|------------------------------------------------------------------------------------------|--------------------------------------------|
| 4xx      | `400–499` | Client issues such as invalid payload, missing headers, or authentication errors.        | `400 VALIDATION_ERROR`, `401 UNAUTHORIZED` |
| 5xx      | `500–599` | Internal or provider-side failures. Message is generic; no stack traces or vendor names. | `500 INTERNAL_ERROR`                       |

>Status code definitions follow RFC 9110 – HTTP Semantics.

### Standard Error Codes
| Code                       | HTTP        | Meaning                                              | Typical Resolution                                     |
|----------------------------|-------------|------------------------------------------------------|--------------------------------------------------------|
| `VALIDATION_ERROR`         | `400 / 422` | Field validation failed.                             | Check schema, types, and mandatory fields.             |
| `UNAUTHORIZED`             | `401`       | Missing or invalid OAuth token.                      | Request a new OAuth 2.1 token and retry.               |
| `INSUFFICIENT_PERMISSIONS` | `403`       | Token scope does not allow the action.               | Use the correct scope (for example, `payments:write`). |
| `RESOURCE_NOT_FOUND`       | `404`       | Entity not found (customer, account, payment, etc.). | Verify the resource ID or creation step.               |
| `INSUFFICIENT_FUNDS`       | `409`       | Balance too low to complete the request.             | Retry after top-up or use another account.             |
| `INTERNAL_ERROR`           | `500`       | Unexpected server error.                             | Retry later or contact support with logs.              |
| `PROVIDER_UNAVAILABLE`     | `502`       | Downstream provider temporarily offline.             | Retry with exponential backoff.                        |

## Example Responses

### Validation Error
```json
{
  "error_name": "Validation Error",
  "error_description": "Invalid IBAN format.",
  "metadata": {
  "trace_id": "abc123",
    "details": "Field 'beneficiary.iban' must match SEPA pattern"
  }
}
```
### Idempotency Conflict
```json
{
  "error_name": "Idempotency Conflict",
  "error_description": "Different payload detected for the same X-Request-Id within the idempotency window.",
  "metadata": {
    "trace_id": "def456"
  }
}
```
### Insufficient Funds
```json
{
  "error_name": "Insufficient Funds",
  "error_description": "Not enough balance to complete the operation.",
  "metadata": {
    "trace_id": "ghi789"
  }
}
```
### Server Error (generic)
```json
{
  "error_name": "Internal Server Error",
  "error_description": "An unexpected error occurred.",
  "metadata": {
    "trace_id": "zzz111"
  }
}
```

>Note:
>The details field is only returned for 4xx responses.
>All examples use synthetic data.
